<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Operators precedence</title>
    <!-- Bootstrap core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../css/prompto-frame.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/lib/jquery.min.js"></script>
    <script src="../../js/lib/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../js/lib/ie10-viewport-bug-workaround.js"></script>

    <script type="text/javascript">

        var samples =  {
            c1 : 'define main as method doing:'
                + "\n" + '    // unclear intent'
                + "\n" + '    print "1 + 3 / 4 - 9 -> " + (1 + 3 / 4 - 9)'
                + "\n" + '    // clear intent using parenthesis'
                + "\n" + '    print "(1 + (3 / 4)) - 9 -> " + ((1 + (3 / 4)) - 9)'
        };

        function editorReady(frame, editor) {
            editor.setValue(samples[frame.name], -1);
        }

        function translatePromptoCode(content, from, to, editor) {
            parent.translatePromptoCode(content, from, to, editor);
        }

        function executePromptoCode(content, dialect, printer) {
            parent.executePromptoCode(content, dialect, printer);
        }

    </script>
</head>
<body>
<div class="container">
    <div class="row">

        <h2>Operators precedence</h2>

        <p>Composed mathematical expressions, such as <code>1 + 3 / 4 - 9</code> can be evaluated in many ways, depending on which operator is applied first.<br/>
            While humans can make decisions based on common sense, Prompto has a pre-defined set of rules to ensure the sequence is always the same.<br/>
            This is called <i>operator precedence</i>. In Prompto, the mathematical operator precedence is as follows:
            <ul>
                <li><code>- <i>exp</i></code> -> minus</li>
                <li><code>not <i>exp</i></code> -> logical not</li>
                <li><code><i>exp</i> * <i>exp</i></code> -> multiply</li>
                <li><code><i>exp</i> / <i>exp</i></code> -> divide</li>
                <li><code><i>exp</i> % <i>exp</i></code> -> remainder</li>
                <li><code><i>exp</i> \ <i>exp</i></code> -> integer divide</li>
                <li><code><i>exp</i> + <i>exp</i></code> -> add</li>
                <li><code><i>exp</i> - <i>exp</i></code> -> subtract</li>
                <li><code><i>exp</i> &lt; <i>exp</i></code> -> less than</li>
                <li><code><i>exp</i> &lt;= <i>exp</i></code> -> less than or equal</li>
                <li><code><i>exp</i> &gt; <i>exp</i></code> -> greater than</li>
                <li><code><i>exp</i> &gt;= <i>exp</i></code> -> greater than or equal</li>
                <li><code><i>exp</i> = <i>exp</i></code> -> equal</li>
                <li><code><i>exp</i> ~ <i>exp</i></code> -> roughly equal</li>
                <li><code><i>exp</i> or <i>exp</i></code> -> logical or</li>
                <li><code><i>exp</i> and <i>exp</i></code> -> logical and</li>
            </ul>
        This means that in the above expression, the evaluation is performed in the following sequence:
        <code>3 / 4</code>, then <code>1 + 0.75</code> and finally <code>0.75 - 9</code>.
        </p>
        <p>Although Prompto precedence is similar to most programming languages, the above list can be hard to remember.<br/>
            Precedence can become even more complex with Prompto, because it uses a number of keywords as operators,
            such as <code>in</code>, <code>contains</code>, <code>as</code> and others.<br/>
            The best way to keep code unambiguous and avoid mistakes is to use parenthesis.
        </p>

        <h3>Parenthesis expressions</h3>

        <p>A parenthesis expression is used to manage precedence.<br/>
            A parenthesis expression is a code fragment which produces a value, whose type is determined by the enclosed value, and which can then be used as an input for other operations: print, write, method call and so forth.<br/>
            A parenthesis expression has the form <code>( <i>exp</i> )</code>.<br/>
        </p>
        <div>
            <iframe class="displayer" name="c1" class="embed-responsive-item" src="../../code/displayer.html" runnable></iframe>
        </div>
        <p>As you can see, both expressions trigger the same result. But using parenthesis makes it clear for readers what the intent is.
        </p>


    </div>
</body>
</html>