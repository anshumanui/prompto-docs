{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _editorOptions = require('./editorOptions.js');\n\nrequire('brace');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.isequal');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.get');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nrequire('brace/ext/split');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ace = (0, _editorOptions.getAceInstance)();\n\nvar _ace$acequire = ace.acequire('ace/range'),\n    Range = _ace$acequire.Range;\n\nvar _ace$acequire2 = ace.acequire('ace/split'),\n    Split = _ace$acequire2.Split;\n\nvar SplitComponent = function (_Component) {\n  _inherits(SplitComponent, _Component);\n\n  function SplitComponent(props) {\n    _classCallCheck(this, SplitComponent);\n\n    var _this = _possibleConstructorReturn(this, (SplitComponent.__proto__ || Object.getPrototypeOf(SplitComponent)).call(this, props));\n\n    _editorOptions.editorEvents.forEach(function (method) {\n      _this[method] = _this[method].bind(_this);\n    });\n\n    _this.debounce = _editorOptions.debounce;\n    return _this;\n  }\n\n  _createClass(SplitComponent, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          onBeforeLoad = _props.onBeforeLoad,\n          mode = _props.mode,\n          focus = _props.focus,\n          theme = _props.theme,\n          fontSize = _props.fontSize,\n          value = _props.value,\n          defaultValue = _props.defaultValue,\n          cursorStart = _props.cursorStart,\n          showGutter = _props.showGutter,\n          wrapEnabled = _props.wrapEnabled,\n          showPrintMargin = _props.showPrintMargin,\n          _props$scrollMargin = _props.scrollMargin,\n          scrollMargin = _props$scrollMargin === undefined ? [0, 0, 0, 0] : _props$scrollMargin,\n          keyboardHandler = _props.keyboardHandler,\n          onLoad = _props.onLoad,\n          commands = _props.commands,\n          annotations = _props.annotations,\n          markers = _props.markers,\n          splits = _props.splits;\n      this.editor = ace.edit(this.refEditor);\n\n      if (onBeforeLoad) {\n        onBeforeLoad(ace);\n      }\n\n      var editorProps = Object.keys(this.props.editorProps);\n      var split = new Split(this.editor.container, 'ace/theme/' + theme, splits);\n      this.editor.env.split = split;\n      this.splitEditor = split.getEditor(0);\n      this.split = split; // in a split scenario we don't want a print margin for the entire application\n\n      this.editor.setShowPrintMargin(false);\n      this.editor.renderer.setShowGutter(false); // get a list of possible options to avoid 'misspelled option errors'\n\n      var availableOptions = this.splitEditor.$options;\n\n      if (this.props.debounceChangePeriod) {\n        this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);\n      }\n\n      split.forEach(function (editor, index) {\n        for (var i = 0; i < editorProps.length; i++) {\n          editor[editorProps[i]] = _this2.props.editorProps[editorProps[i]];\n        }\n\n        var defaultValueForEditor = (0, _lodash4.default)(defaultValue, index);\n        var valueForEditor = (0, _lodash4.default)(value, index, '');\n        editor.session.setUndoManager(new ace.UndoManager());\n        editor.setTheme('ace/theme/' + theme);\n        editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);\n        editor.getSession().setMode('ace/mode/' + mode);\n        editor.setFontSize(fontSize);\n        editor.renderer.setShowGutter(showGutter);\n        editor.getSession().setUseWrapMode(wrapEnabled);\n        editor.setShowPrintMargin(showPrintMargin);\n        editor.on('focus', _this2.onFocus);\n        editor.on('blur', _this2.onBlur);\n        editor.on('input', _this2.onInput);\n        editor.on('copy', _this2.onCopy);\n        editor.on('paste', _this2.onPaste);\n        editor.on('change', _this2.onChange);\n        editor.getSession().selection.on('changeSelection', _this2.onSelectionChange);\n        editor.getSession().selection.on('changeCursor', _this2.onCursorChange);\n        editor.session.on('changeScrollTop', _this2.onScroll);\n        editor.setValue(defaultValueForEditor === undefined ? valueForEditor : defaultValueForEditor, cursorStart);\n        var newAnnotations = (0, _lodash4.default)(annotations, index, []);\n        var newMarkers = (0, _lodash4.default)(markers, index, []);\n        editor.getSession().setAnnotations(newAnnotations);\n\n        if (newMarkers && newMarkers.length > 0) {\n          _this2.handleMarkers(newMarkers, editor);\n        }\n\n        for (var _i = 0; _i < _editorOptions.editorOptions.length; _i++) {\n          var option = _editorOptions.editorOptions[_i];\n\n          if (availableOptions.hasOwnProperty(option)) {\n            editor.setOption(option, _this2.props[option]);\n          } else if (_this2.props[option]) {\n            console.warn('ReaceAce: editor option ' + option + ' was activated but not found. Did you need to import a related tool or did you possibly mispell the option?');\n          }\n        }\n\n        _this2.handleOptions(_this2.props, editor);\n\n        if (Array.isArray(commands)) {\n          commands.forEach(function (command) {\n            if (typeof command.exec == 'string') {\n              editor.commands.bindKey(command.bindKey, command.exec);\n            } else {\n              editor.commands.addCommand(command);\n            }\n          });\n        }\n\n        if (keyboardHandler) {\n          editor.setKeyboardHandler('ace/keyboard/' + keyboardHandler);\n        }\n      });\n\n      if (className) {\n        this.refEditor.className += ' ' + className;\n      }\n\n      if (focus) {\n        this.splitEditor.focus();\n      }\n\n      var sp = this.editor.env.split;\n      sp.setOrientation(this.props.orientation === 'below' ? sp.BELOW : sp.BESIDE);\n      sp.resize(true);\n\n      if (onLoad) {\n        onLoad(sp);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      var oldProps = prevProps;\n      var nextProps = this.props;\n      var split = this.editor.env.split;\n\n      if (nextProps.splits !== oldProps.splits) {\n        split.setSplits(nextProps.splits);\n      }\n\n      if (nextProps.orientation !== oldProps.orientation) {\n        split.setOrientation(nextProps.orientation === 'below' ? split.BELOW : split.BESIDE);\n      }\n\n      split.forEach(function (editor, index) {\n        if (nextProps.mode !== oldProps.mode) {\n          editor.getSession().setMode('ace/mode/' + nextProps.mode);\n        }\n\n        if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n          if (nextProps.keyboardHandler) {\n            editor.setKeyboardHandler('ace/keyboard/' + nextProps.keyboardHandler);\n          } else {\n            editor.setKeyboardHandler(null);\n          }\n        }\n\n        if (nextProps.fontSize !== oldProps.fontSize) {\n          editor.setFontSize(nextProps.fontSize);\n        }\n\n        if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n          editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n        }\n\n        if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n          editor.setShowPrintMargin(nextProps.showPrintMargin);\n        }\n\n        if (nextProps.showGutter !== oldProps.showGutter) {\n          editor.renderer.setShowGutter(nextProps.showGutter);\n        }\n\n        for (var i = 0; i < _editorOptions.editorOptions.length; i++) {\n          var option = _editorOptions.editorOptions[i];\n\n          if (nextProps[option] !== oldProps[option]) {\n            editor.setOption(option, nextProps[option]);\n          }\n        }\n\n        if (!(0, _lodash2.default)(nextProps.setOptions, oldProps.setOptions)) {\n          _this3.handleOptions(nextProps, editor);\n        }\n\n        var nextValue = (0, _lodash4.default)(nextProps.value, index, '');\n\n        if (editor.getValue() !== nextValue) {\n          // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n          _this3.silent = true;\n          var pos = editor.session.selection.toJSON();\n          editor.setValue(nextValue, nextProps.cursorStart);\n          editor.session.selection.fromJSON(pos);\n          _this3.silent = false;\n        }\n\n        var newAnnotations = (0, _lodash4.default)(nextProps.annotations, index, []);\n        var oldAnnotations = (0, _lodash4.default)(oldProps.annotations, index, []);\n\n        if (!(0, _lodash2.default)(newAnnotations, oldAnnotations)) {\n          editor.getSession().setAnnotations(newAnnotations);\n        }\n\n        var newMarkers = (0, _lodash4.default)(nextProps.markers, index, []);\n        var oldMarkers = (0, _lodash4.default)(oldProps.markers, index, []);\n\n        if (!(0, _lodash2.default)(newMarkers, oldMarkers) && Array.isArray(newMarkers)) {\n          _this3.handleMarkers(newMarkers, editor);\n        }\n      });\n\n      if (nextProps.className !== oldProps.className) {\n        var appliedClasses = this.refEditor.className;\n        var appliedClassesArray = appliedClasses.trim().split(' ');\n        var oldClassesArray = oldProps.className.trim().split(' ');\n        oldClassesArray.forEach(function (oldClass) {\n          var index = appliedClassesArray.indexOf(oldClass);\n          appliedClassesArray.splice(index, 1);\n        });\n        this.refEditor.className = ' ' + nextProps.className + ' ' + appliedClassesArray.join(' ');\n      }\n\n      if (nextProps.theme !== oldProps.theme) {\n        split.setTheme('ace/theme/' + nextProps.theme);\n      }\n\n      if (nextProps.focus && !oldProps.focus) {\n        this.splitEditor.focus();\n      }\n\n      if (nextProps.height !== this.props.height || nextProps.width !== this.props.width) {\n        this.editor.resize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.editor.destroy();\n      this.editor = null;\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(event) {\n      if (this.props.onChange && !this.silent) {\n        var value = [];\n        this.editor.env.split.forEach(function (editor) {\n          value.push(editor.getValue());\n        });\n        this.props.onChange(value, event);\n      }\n    }\n  }, {\n    key: 'onSelectionChange',\n    value: function onSelectionChange(event) {\n      if (this.props.onSelectionChange) {\n        var value = [];\n        this.editor.env.split.forEach(function (editor) {\n          value.push(editor.getSelection());\n        });\n        this.props.onSelectionChange(value, event);\n      }\n    }\n  }, {\n    key: 'onCursorChange',\n    value: function onCursorChange(event) {\n      if (this.props.onCursorChange) {\n        var value = [];\n        this.editor.env.split.forEach(function (editor) {\n          value.push(editor.getSelection());\n        });\n        this.props.onCursorChange(value, event);\n      }\n    }\n  }, {\n    key: 'onFocus',\n    value: function onFocus(event) {\n      if (this.props.onFocus) {\n        this.props.onFocus(event);\n      }\n    }\n  }, {\n    key: 'onInput',\n    value: function onInput(event) {\n      if (this.props.onInput) {\n        this.props.onInput(event);\n      }\n    }\n  }, {\n    key: 'onBlur',\n    value: function onBlur(event) {\n      if (this.props.onBlur) {\n        this.props.onBlur(event);\n      }\n    }\n  }, {\n    key: 'onCopy',\n    value: function onCopy(text) {\n      if (this.props.onCopy) {\n        this.props.onCopy(text);\n      }\n    }\n  }, {\n    key: 'onPaste',\n    value: function onPaste(text) {\n      if (this.props.onPaste) {\n        this.props.onPaste(text);\n      }\n    }\n  }, {\n    key: 'onScroll',\n    value: function onScroll() {\n      if (this.props.onScroll) {\n        this.props.onScroll(this.editor);\n      }\n    }\n  }, {\n    key: 'handleOptions',\n    value: function handleOptions(props, editor) {\n      var setOptions = Object.keys(props.setOptions);\n\n      for (var y = 0; y < setOptions.length; y++) {\n        editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n      }\n    }\n  }, {\n    key: 'handleMarkers',\n    value: function handleMarkers(markers, editor) {\n      // remove foreground markers\n      var currentMarkers = editor.getSession().getMarkers(true);\n\n      for (var i in currentMarkers) {\n        if (currentMarkers.hasOwnProperty(i)) {\n          editor.getSession().removeMarker(currentMarkers[i].id);\n        }\n      } // remove background markers\n\n\n      currentMarkers = editor.getSession().getMarkers(false);\n\n      for (var _i2 in currentMarkers) {\n        if (currentMarkers.hasOwnProperty(_i2)) {\n          editor.getSession().removeMarker(currentMarkers[_i2].id);\n        }\n      } // add new markers\n\n\n      markers.forEach(function (_ref) {\n        var startRow = _ref.startRow,\n            startCol = _ref.startCol,\n            endRow = _ref.endRow,\n            endCol = _ref.endCol,\n            className = _ref.className,\n            type = _ref.type,\n            _ref$inFront = _ref.inFront,\n            inFront = _ref$inFront === undefined ? false : _ref$inFront;\n        var range = new Range(startRow, startCol, endRow, endCol);\n        editor.getSession().addMarker(range, className, type, inFront);\n      });\n    }\n  }, {\n    key: 'updateRef',\n    value: function updateRef(item) {\n      this.refEditor = item;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          name = _props2.name,\n          width = _props2.width,\n          height = _props2.height,\n          style = _props2.style;\n\n      var divStyle = _extends({\n        width: width,\n        height: height\n      }, style);\n\n      return _react2.default.createElement('div', {\n        ref: this.updateRef,\n        id: name,\n        style: divStyle\n      });\n    }\n  }]);\n\n  return SplitComponent;\n}(_react.Component);\n\nexports.default = SplitComponent;\nSplitComponent.propTypes = {\n  mode: _propTypes2.default.string,\n  splits: _propTypes2.default.number,\n  orientation: _propTypes2.default.string,\n  focus: _propTypes2.default.bool,\n  theme: _propTypes2.default.string,\n  name: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  height: _propTypes2.default.string,\n  width: _propTypes2.default.string,\n  fontSize: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n  showGutter: _propTypes2.default.bool,\n  onChange: _propTypes2.default.func,\n  onCopy: _propTypes2.default.func,\n  onPaste: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onInput: _propTypes2.default.func,\n  onBlur: _propTypes2.default.func,\n  onScroll: _propTypes2.default.func,\n  value: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  defaultValue: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  debounceChangePeriod: _propTypes2.default.number,\n  onLoad: _propTypes2.default.func,\n  onSelectionChange: _propTypes2.default.func,\n  onCursorChange: _propTypes2.default.func,\n  onBeforeLoad: _propTypes2.default.func,\n  minLines: _propTypes2.default.number,\n  maxLines: _propTypes2.default.number,\n  readOnly: _propTypes2.default.bool,\n  highlightActiveLine: _propTypes2.default.bool,\n  tabSize: _propTypes2.default.number,\n  showPrintMargin: _propTypes2.default.bool,\n  cursorStart: _propTypes2.default.number,\n  editorProps: _propTypes2.default.object,\n  setOptions: _propTypes2.default.object,\n  style: _propTypes2.default.object,\n  scrollMargin: _propTypes2.default.array,\n  annotations: _propTypes2.default.array,\n  markers: _propTypes2.default.array,\n  keyboardHandler: _propTypes2.default.string,\n  wrapEnabled: _propTypes2.default.bool,\n  enableBasicAutocompletion: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.array]),\n  enableLiveAutocompletion: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.array]),\n  commands: _propTypes2.default.array\n};\nSplitComponent.defaultProps = {\n  name: 'brace-editor',\n  focus: false,\n  orientation: 'beside',\n  splits: 2,\n  mode: '',\n  theme: '',\n  height: '500px',\n  width: '500px',\n  value: [],\n  fontSize: 12,\n  showGutter: true,\n  onChange: null,\n  onPaste: null,\n  onLoad: null,\n  onScroll: null,\n  minLines: null,\n  maxLines: null,\n  readOnly: false,\n  highlightActiveLine: true,\n  showPrintMargin: true,\n  tabSize: 4,\n  cursorStart: 1,\n  editorProps: {},\n  style: {},\n  scrollMargin: [0, 0, 0, 0],\n  setOptions: {},\n  wrapEnabled: false,\n  enableBasicAutocompletion: false,\n  enableLiveAutocompletion: false\n};","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/prompto-docs/WebSite/src/resources/node_modules/react-ace/lib/split.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_editorOptions","require","_react","_react2","_interopRequireDefault","_propTypes","_propTypes2","_lodash","_lodash2","_lodash3","_lodash4","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","ace","getAceInstance","_ace$acequire","acequire","Range","_ace$acequire2","Split","SplitComponent","_Component","_this","getPrototypeOf","editorEvents","forEach","method","bind","debounce","componentDidMount","_this2","_props","className","onBeforeLoad","mode","focus","theme","fontSize","defaultValue","cursorStart","showGutter","wrapEnabled","showPrintMargin","_props$scrollMargin","scrollMargin","undefined","keyboardHandler","onLoad","commands","annotations","markers","splits","editor","edit","refEditor","editorProps","keys","split","container","env","splitEditor","getEditor","setShowPrintMargin","renderer","setShowGutter","availableOptions","$options","debounceChangePeriod","onChange","index","defaultValueForEditor","valueForEditor","session","setUndoManager","UndoManager","setTheme","setScrollMargin","getSession","setMode","setFontSize","setUseWrapMode","on","onFocus","onBlur","onInput","onCopy","onPaste","selection","onSelectionChange","onCursorChange","onScroll","setValue","newAnnotations","newMarkers","setAnnotations","handleMarkers","_i","editorOptions","option","setOption","console","warn","handleOptions","Array","isArray","command","exec","bindKey","addCommand","setKeyboardHandler","sp","setOrientation","orientation","BELOW","BESIDE","resize","componentDidUpdate","prevProps","_this3","oldProps","nextProps","setSplits","setOptions","nextValue","getValue","silent","pos","toJSON","fromJSON","oldAnnotations","oldMarkers","appliedClasses","appliedClassesArray","trim","oldClassesArray","oldClass","indexOf","splice","join","height","width","componentWillUnmount","destroy","event","push","getSelection","text","y","currentMarkers","getMarkers","removeMarker","id","_i2","_ref","startRow","startCol","endRow","endCol","type","_ref$inFront","inFront","range","addMarker","updateRef","item","render","_props2","name","style","divStyle","createElement","ref","Component","propTypes","string","number","bool","oneOfType","func","arrayOf","minLines","maxLines","readOnly","highlightActiveLine","tabSize","object","array","enableBasicAutocompletion","enableLiveAutocompletion","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _editorOptions = require('./editorOptions.js');\n\nrequire('brace');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.isequal');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.get');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nrequire('brace/ext/split');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ace = (0, _editorOptions.getAceInstance)();\n\nvar _ace$acequire = ace.acequire('ace/range'),\n    Range = _ace$acequire.Range;\n\nvar _ace$acequire2 = ace.acequire('ace/split'),\n    Split = _ace$acequire2.Split;\n\nvar SplitComponent = function (_Component) {\n  _inherits(SplitComponent, _Component);\n\n  function SplitComponent(props) {\n    _classCallCheck(this, SplitComponent);\n\n    var _this = _possibleConstructorReturn(this, (SplitComponent.__proto__ || Object.getPrototypeOf(SplitComponent)).call(this, props));\n\n    _editorOptions.editorEvents.forEach(function (method) {\n      _this[method] = _this[method].bind(_this);\n    });\n    _this.debounce = _editorOptions.debounce;\n    return _this;\n  }\n\n  _createClass(SplitComponent, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          onBeforeLoad = _props.onBeforeLoad,\n          mode = _props.mode,\n          focus = _props.focus,\n          theme = _props.theme,\n          fontSize = _props.fontSize,\n          value = _props.value,\n          defaultValue = _props.defaultValue,\n          cursorStart = _props.cursorStart,\n          showGutter = _props.showGutter,\n          wrapEnabled = _props.wrapEnabled,\n          showPrintMargin = _props.showPrintMargin,\n          _props$scrollMargin = _props.scrollMargin,\n          scrollMargin = _props$scrollMargin === undefined ? [0, 0, 0, 0] : _props$scrollMargin,\n          keyboardHandler = _props.keyboardHandler,\n          onLoad = _props.onLoad,\n          commands = _props.commands,\n          annotations = _props.annotations,\n          markers = _props.markers,\n          splits = _props.splits;\n\n\n      this.editor = ace.edit(this.refEditor);\n\n      if (onBeforeLoad) {\n        onBeforeLoad(ace);\n      }\n\n      var editorProps = Object.keys(this.props.editorProps);\n\n      var split = new Split(this.editor.container, 'ace/theme/' + theme, splits);\n      this.editor.env.split = split;\n\n      this.splitEditor = split.getEditor(0);\n      this.split = split;\n      // in a split scenario we don't want a print margin for the entire application\n      this.editor.setShowPrintMargin(false);\n      this.editor.renderer.setShowGutter(false);\n      // get a list of possible options to avoid 'misspelled option errors'\n      var availableOptions = this.splitEditor.$options;\n      if (this.props.debounceChangePeriod) {\n        this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);\n      }\n      split.forEach(function (editor, index) {\n        for (var i = 0; i < editorProps.length; i++) {\n          editor[editorProps[i]] = _this2.props.editorProps[editorProps[i]];\n        }\n        var defaultValueForEditor = (0, _lodash4.default)(defaultValue, index);\n        var valueForEditor = (0, _lodash4.default)(value, index, '');\n        editor.session.setUndoManager(new ace.UndoManager());\n        editor.setTheme('ace/theme/' + theme);\n        editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);\n        editor.getSession().setMode('ace/mode/' + mode);\n        editor.setFontSize(fontSize);\n        editor.renderer.setShowGutter(showGutter);\n        editor.getSession().setUseWrapMode(wrapEnabled);\n        editor.setShowPrintMargin(showPrintMargin);\n        editor.on('focus', _this2.onFocus);\n        editor.on('blur', _this2.onBlur);\n        editor.on('input', _this2.onInput);\n        editor.on('copy', _this2.onCopy);\n        editor.on('paste', _this2.onPaste);\n        editor.on('change', _this2.onChange);\n        editor.getSession().selection.on('changeSelection', _this2.onSelectionChange);\n        editor.getSession().selection.on('changeCursor', _this2.onCursorChange);\n        editor.session.on('changeScrollTop', _this2.onScroll);\n        editor.setValue(defaultValueForEditor === undefined ? valueForEditor : defaultValueForEditor, cursorStart);\n        var newAnnotations = (0, _lodash4.default)(annotations, index, []);\n        var newMarkers = (0, _lodash4.default)(markers, index, []);\n        editor.getSession().setAnnotations(newAnnotations);\n        if (newMarkers && newMarkers.length > 0) {\n          _this2.handleMarkers(newMarkers, editor);\n        }\n\n        for (var _i = 0; _i < _editorOptions.editorOptions.length; _i++) {\n          var option = _editorOptions.editorOptions[_i];\n          if (availableOptions.hasOwnProperty(option)) {\n            editor.setOption(option, _this2.props[option]);\n          } else if (_this2.props[option]) {\n            console.warn('ReaceAce: editor option ' + option + ' was activated but not found. Did you need to import a related tool or did you possibly mispell the option?');\n          }\n        }\n        _this2.handleOptions(_this2.props, editor);\n\n        if (Array.isArray(commands)) {\n          commands.forEach(function (command) {\n            if (typeof command.exec == 'string') {\n              editor.commands.bindKey(command.bindKey, command.exec);\n            } else {\n              editor.commands.addCommand(command);\n            }\n          });\n        }\n\n        if (keyboardHandler) {\n          editor.setKeyboardHandler('ace/keyboard/' + keyboardHandler);\n        }\n      });\n\n      if (className) {\n        this.refEditor.className += ' ' + className;\n      }\n\n      if (focus) {\n        this.splitEditor.focus();\n      }\n\n      var sp = this.editor.env.split;\n      sp.setOrientation(this.props.orientation === 'below' ? sp.BELOW : sp.BESIDE);\n      sp.resize(true);\n      if (onLoad) {\n        onLoad(sp);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      var oldProps = prevProps;\n      var nextProps = this.props;\n\n      var split = this.editor.env.split;\n\n      if (nextProps.splits !== oldProps.splits) {\n        split.setSplits(nextProps.splits);\n      }\n\n      if (nextProps.orientation !== oldProps.orientation) {\n        split.setOrientation(nextProps.orientation === 'below' ? split.BELOW : split.BESIDE);\n      }\n\n      split.forEach(function (editor, index) {\n        if (nextProps.mode !== oldProps.mode) {\n          editor.getSession().setMode('ace/mode/' + nextProps.mode);\n        }\n        if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n          if (nextProps.keyboardHandler) {\n            editor.setKeyboardHandler('ace/keyboard/' + nextProps.keyboardHandler);\n          } else {\n            editor.setKeyboardHandler(null);\n          }\n        }\n        if (nextProps.fontSize !== oldProps.fontSize) {\n          editor.setFontSize(nextProps.fontSize);\n        }\n        if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n          editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n        }\n        if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n          editor.setShowPrintMargin(nextProps.showPrintMargin);\n        }\n        if (nextProps.showGutter !== oldProps.showGutter) {\n          editor.renderer.setShowGutter(nextProps.showGutter);\n        }\n\n        for (var i = 0; i < _editorOptions.editorOptions.length; i++) {\n          var option = _editorOptions.editorOptions[i];\n          if (nextProps[option] !== oldProps[option]) {\n            editor.setOption(option, nextProps[option]);\n          }\n        }\n        if (!(0, _lodash2.default)(nextProps.setOptions, oldProps.setOptions)) {\n          _this3.handleOptions(nextProps, editor);\n        }\n        var nextValue = (0, _lodash4.default)(nextProps.value, index, '');\n        if (editor.getValue() !== nextValue) {\n          // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n          _this3.silent = true;\n          var pos = editor.session.selection.toJSON();\n          editor.setValue(nextValue, nextProps.cursorStart);\n          editor.session.selection.fromJSON(pos);\n          _this3.silent = false;\n        }\n        var newAnnotations = (0, _lodash4.default)(nextProps.annotations, index, []);\n        var oldAnnotations = (0, _lodash4.default)(oldProps.annotations, index, []);\n        if (!(0, _lodash2.default)(newAnnotations, oldAnnotations)) {\n          editor.getSession().setAnnotations(newAnnotations);\n        }\n\n        var newMarkers = (0, _lodash4.default)(nextProps.markers, index, []);\n        var oldMarkers = (0, _lodash4.default)(oldProps.markers, index, []);\n        if (!(0, _lodash2.default)(newMarkers, oldMarkers) && Array.isArray(newMarkers)) {\n          _this3.handleMarkers(newMarkers, editor);\n        }\n      });\n\n      if (nextProps.className !== oldProps.className) {\n        var appliedClasses = this.refEditor.className;\n        var appliedClassesArray = appliedClasses.trim().split(' ');\n        var oldClassesArray = oldProps.className.trim().split(' ');\n        oldClassesArray.forEach(function (oldClass) {\n          var index = appliedClassesArray.indexOf(oldClass);\n          appliedClassesArray.splice(index, 1);\n        });\n        this.refEditor.className = ' ' + nextProps.className + ' ' + appliedClassesArray.join(' ');\n      }\n\n      if (nextProps.theme !== oldProps.theme) {\n        split.setTheme('ace/theme/' + nextProps.theme);\n      }\n\n      if (nextProps.focus && !oldProps.focus) {\n        this.splitEditor.focus();\n      }\n      if (nextProps.height !== this.props.height || nextProps.width !== this.props.width) {\n        this.editor.resize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.editor.destroy();\n      this.editor = null;\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(event) {\n      if (this.props.onChange && !this.silent) {\n        var value = [];\n        this.editor.env.split.forEach(function (editor) {\n          value.push(editor.getValue());\n        });\n        this.props.onChange(value, event);\n      }\n    }\n  }, {\n    key: 'onSelectionChange',\n    value: function onSelectionChange(event) {\n      if (this.props.onSelectionChange) {\n        var value = [];\n        this.editor.env.split.forEach(function (editor) {\n          value.push(editor.getSelection());\n        });\n        this.props.onSelectionChange(value, event);\n      }\n    }\n  }, {\n    key: 'onCursorChange',\n    value: function onCursorChange(event) {\n      if (this.props.onCursorChange) {\n        var value = [];\n        this.editor.env.split.forEach(function (editor) {\n          value.push(editor.getSelection());\n        });\n        this.props.onCursorChange(value, event);\n      }\n    }\n  }, {\n    key: 'onFocus',\n    value: function onFocus(event) {\n      if (this.props.onFocus) {\n        this.props.onFocus(event);\n      }\n    }\n  }, {\n    key: 'onInput',\n    value: function onInput(event) {\n      if (this.props.onInput) {\n        this.props.onInput(event);\n      }\n    }\n  }, {\n    key: 'onBlur',\n    value: function onBlur(event) {\n      if (this.props.onBlur) {\n        this.props.onBlur(event);\n      }\n    }\n  }, {\n    key: 'onCopy',\n    value: function onCopy(text) {\n      if (this.props.onCopy) {\n        this.props.onCopy(text);\n      }\n    }\n  }, {\n    key: 'onPaste',\n    value: function onPaste(text) {\n      if (this.props.onPaste) {\n        this.props.onPaste(text);\n      }\n    }\n  }, {\n    key: 'onScroll',\n    value: function onScroll() {\n      if (this.props.onScroll) {\n        this.props.onScroll(this.editor);\n      }\n    }\n  }, {\n    key: 'handleOptions',\n    value: function handleOptions(props, editor) {\n      var setOptions = Object.keys(props.setOptions);\n      for (var y = 0; y < setOptions.length; y++) {\n        editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n      }\n    }\n  }, {\n    key: 'handleMarkers',\n    value: function handleMarkers(markers, editor) {\n      // remove foreground markers\n      var currentMarkers = editor.getSession().getMarkers(true);\n      for (var i in currentMarkers) {\n        if (currentMarkers.hasOwnProperty(i)) {\n          editor.getSession().removeMarker(currentMarkers[i].id);\n        }\n      }\n      // remove background markers\n      currentMarkers = editor.getSession().getMarkers(false);\n      for (var _i2 in currentMarkers) {\n        if (currentMarkers.hasOwnProperty(_i2)) {\n          editor.getSession().removeMarker(currentMarkers[_i2].id);\n        }\n      }\n      // add new markers\n      markers.forEach(function (_ref) {\n        var startRow = _ref.startRow,\n            startCol = _ref.startCol,\n            endRow = _ref.endRow,\n            endCol = _ref.endCol,\n            className = _ref.className,\n            type = _ref.type,\n            _ref$inFront = _ref.inFront,\n            inFront = _ref$inFront === undefined ? false : _ref$inFront;\n\n        var range = new Range(startRow, startCol, endRow, endCol);\n        editor.getSession().addMarker(range, className, type, inFront);\n      });\n    }\n  }, {\n    key: 'updateRef',\n    value: function updateRef(item) {\n      this.refEditor = item;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          name = _props2.name,\n          width = _props2.width,\n          height = _props2.height,\n          style = _props2.style;\n\n      var divStyle = _extends({ width: width, height: height }, style);\n      return _react2.default.createElement('div', { ref: this.updateRef, id: name, style: divStyle });\n    }\n  }]);\n\n  return SplitComponent;\n}(_react.Component);\n\nexports.default = SplitComponent;\n\n\nSplitComponent.propTypes = {\n  mode: _propTypes2.default.string,\n  splits: _propTypes2.default.number,\n  orientation: _propTypes2.default.string,\n  focus: _propTypes2.default.bool,\n  theme: _propTypes2.default.string,\n  name: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  height: _propTypes2.default.string,\n  width: _propTypes2.default.string,\n  fontSize: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n  showGutter: _propTypes2.default.bool,\n  onChange: _propTypes2.default.func,\n  onCopy: _propTypes2.default.func,\n  onPaste: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onInput: _propTypes2.default.func,\n  onBlur: _propTypes2.default.func,\n  onScroll: _propTypes2.default.func,\n  value: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  defaultValue: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  debounceChangePeriod: _propTypes2.default.number,\n  onLoad: _propTypes2.default.func,\n  onSelectionChange: _propTypes2.default.func,\n  onCursorChange: _propTypes2.default.func,\n  onBeforeLoad: _propTypes2.default.func,\n  minLines: _propTypes2.default.number,\n  maxLines: _propTypes2.default.number,\n  readOnly: _propTypes2.default.bool,\n  highlightActiveLine: _propTypes2.default.bool,\n  tabSize: _propTypes2.default.number,\n  showPrintMargin: _propTypes2.default.bool,\n  cursorStart: _propTypes2.default.number,\n  editorProps: _propTypes2.default.object,\n  setOptions: _propTypes2.default.object,\n  style: _propTypes2.default.object,\n  scrollMargin: _propTypes2.default.array,\n  annotations: _propTypes2.default.array,\n  markers: _propTypes2.default.array,\n  keyboardHandler: _propTypes2.default.string,\n  wrapEnabled: _propTypes2.default.bool,\n  enableBasicAutocompletion: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.array]),\n  enableLiveAutocompletion: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.array]),\n  commands: _propTypes2.default.array\n};\n\nSplitComponent.defaultProps = {\n  name: 'brace-editor',\n  focus: false,\n  orientation: 'beside',\n  splits: 2,\n  mode: '',\n  theme: '',\n  height: '500px',\n  width: '500px',\n  value: [],\n  fontSize: 12,\n  showGutter: true,\n  onChange: null,\n  onPaste: null,\n  onLoad: null,\n  onScroll: null,\n  minLines: null,\n  maxLines: null,\n  readOnly: false,\n  highlightActiveLine: true,\n  showPrintMargin: true,\n  tabSize: 4,\n  cursorStart: 1,\n  editorProps: {},\n  style: {},\n  scrollMargin: [0, 0, 0, 0],\n  setOptions: {},\n  wrapEnabled: false,\n  enableBasicAutocompletion: false,\n  enableLiveAutocompletion: false\n};"]},"metadata":{},"sourceType":"script"}